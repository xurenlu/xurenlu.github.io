{"title":"好色的程序员：怎么加上彩色显示","zzzContent":"问题列表\n\n1.终端如何支持显示彩色\n     现代终端基本上都已经支持彩色显示了。【8色的显示屏是什么时候发明的?】 您可以在bash下用这段来试试:&lt;coolcode&gt;\necho -e \"\u000033[40;32mcolored text\u000033[0;0m\"\n&lt;/coolcode&gt;\n如果这里出来的是彩色文字，那就说明您的终端是支持彩色显示的。如是没有出来彩色文字，那就，改您的终端类型。一般情况下您的终端软件可选的有vt100,vt102,vt220,vt320,linux,xterm等几种。我一般选linux.\n2.终端颜色和颜色表:\n   要在终端中显示彩色文字，需要这样输出&lt;coolcode&gt;\nESC[attr;frontcolor;backgroundcolor;m\n\n要加彩色的文字。\n&lt;/coolcode&gt;\n\nESC是ESCAPE键，它的ASC码是十进制的27,八进制的33.所以我们用echo -e \"\u000033...\"来输入。attr是要给文字设置的属性代号，frontcolor是文字颜色代号，backgroundcolor是文字背景色代码。这些代号及意义如下:\n&lt;coolcode&gt;\n\n  前景             背景              颜色 \n   --------------------------------------- \n   30                40               黑色 \n   31                41               紅色 \n   32                42               綠色 \n   33                43               黃色 \n   34                44               藍色 \n   35                45               紫紅色 \n   36                46               青藍色 \n   37                47               白色 \n\n   代码              意义 \n   ------------------------- \n   0                 OFF \n   1                 高亮显示 \n   4                 underline \n   5                 闪烁 \n   7                 反白显示 \n   8                 不可见 \n&lt;/coolcode&gt; \n2.PS1,ls ,grep 如何加彩色\n  PS1是bash一个特殊的变量，用来指定提示符。我们只要修改它的值就可以指定提示符如何显示。在这里h表示主机名，u表示当前用户,w表示当前目录。我的设置是:\n&lt;coolcode&gt;export PS1=\"[e[36;1m]u@[e[32;1m]H&gt;:w&gt;[e[0m]\"&lt;/coolcode&gt; \n\n这里bash的提示符已经变成彩色了，但是ls的输出还不是彩色的。也很简单,man一下就知道了，在linux下,\n\n&lt;coolcode&gt;alias ls=\"ls --color=auto\"&lt;/coolcode&gt;就行了。在FreeBSD下，&lt;coolcode&gt;alias ls=\"ls -G\"&lt;/coolcode&gt;即可。\n\ngrep也是支持彩色的:\n&lt;coolcode&gt;\nalias grep=\"grep --color=auto\"\n&lt;/coolcode&gt; \n好了，现在我们可以把~/.bashrc文件 改一下:\n&lt;coolcode&gt;\nexport PS1=\"[e[36;1m]u@[e[32;1m]H&gt;:w&gt;[e[0m]\"\nalias ls=\"ls --color=auto\"\nalias grep=\"grep --color=auto\"\n&lt;/coolcode&gt; \n \n\n2.svn diff怎么加彩色:\n我写了一个脚本,放在http://xurenlu.googlecode.com/files/svncolor.py这里。只需要svn diff|python svncolor.py即可把svn diff的结果转成彩色的。\n\n3.git diff怎么加彩色\ngit diff加颜色非常简单:修改.git/config,加上\n&lt;coolcode&gt;\n[diff]\n    color = auto \n&lt;/coolcode&gt; \n\n4.vim 怎么支持彩色\n非常简单,如果是php文件:\n&lt;coolcode&gt;\n:set ft=php\n:set syntax\n&lt;/coolcode&gt; \n就行了。 \n\n6.怎么去彩色\n为什么要去颜色呢,因为有时候我们需要把一些输出重定向到vim中间,这时在vim中会出现很多控制字符。所以我们要再转成黑底白字。\n我这里也有一个脚本。 \n&lt;coolcode&gt;\n#!/usr/bin/python\nimport sys,re\nPESC=chr(27)\nnocolor_re=re.compile(PESC+'[[d;]+m')\nif __name__==\"__main__\":\n    while(True):\n        line=sys.stdin.readline()\n        if not line: break\n        line=line.replace(\"n\",\"\")\n        print nocolor_re.sub(\"\",line)\n&lt;/coolcode&gt;","postDate":"2009-06-09 18:45:15","postId":887,"type":"post","status":"publish","imported":true,"file":"887.md"}