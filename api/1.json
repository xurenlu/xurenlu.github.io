{"title":"2014.12.12","zzzContent":"问题:\n\t\n\tA:12.11晚23点,预售的商品下线,但是全民预售这个词在qp里还是保持给改写加了筛选auction_tag,后来福灵手工更新\"预售\"这个词,去掉了改写,约15分钟完成了修复;影响面不大;\n\n\tA:12.11晚上oe打标失败,导致12.12当天配置了oeid的三个词无结果;从7点半索引 切换生效到9点推送楼层关闭分楼层,持续一个小半小时.\n\t\t后来黑手通过修改配置,去掉了oeid这个条件,等到下午1点QP 缓存失效后重新打开;\n\n\t\tOE打标失败的原因已经初步给出结论,是因为OE的开发目前还在DEV模式下,申请的云梯空间只有5G,空间不足导致打标失败.\n\t\t之前对于打标是否可能失败,清妃提出过质疑,但OE承诺会做监控,打标失败时会发报警.\n\n\tB:12.12晚9点 临时决定添加将主分会场及首页的链接改到搜索,且不出天猫豆腐块,不出天猫商品,不加筛选条件;搜索无需做开发,但需要提供链接修改方式给主分会场开发;\n\n经验总结:\n\t\n\tA:算法改动或数据生成每天只能生效一次,如果有错误,基本没有办法再做调整;需要前端多做考虑,保持灵活性,多预留方案.\n\t\t另外,对QP结果做2个小时的缓存,在带来巨大效率的同时,也带来了不便,在QP配置不对的情况下,不能快速做干预.前端需要引入平滑地刷新缓存的机制,做好兜底.\n\n\tB:从OE打标失败的经验时,线上功能永远不要依赖于开发环境或是临时配置;不是只有代码才是需要做好管理的,不管是配置文件,还是一个crontab ,还是报警监控,都要走一个从开发环境,到测试环境,到线上环境的过程;\n\n\tC:这次临时要求提供一个不出豆腐块的链接 ,超出预期.之前做了预案是全部改成没有豆腐块的,但是实际执行的是从主分会场过来的链接是没有豆腐块的,且没有天猫商品的.再次验证需求总是超时预期的,还好有灵活的参数组合,满足了需求!\n\n\n\n","postDate":"2018-01-01 02:03:35","postId":1,"type":"post","status":"publish","imported":false,"file":"2014.12.12.md"}