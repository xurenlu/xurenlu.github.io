{"title":"Rails 2.0的一些变化","zzzContent":"1.ActionView的变化：\n       模板文件默认扩展名从.rhtml改成了.html.erb\n      新的规则是:[动作名.扩展名.渲染引擎],因此黙 认模板文件就是类似view.html.erb.当然view.rhtml也能正常工作.\n     比如我希望用户访问/post/rss/1.atom时，调用builder来解析，我的模板文件应该是rss.xml.builder.这个builder很方便，创建Rss时非常爽。语法像这样:\n   <blockquote>\nxml.instruct!\nxml.rss(\"version\"=>\"2.0\",\n                \"xmlns:dc\"=>\"http://purl.org/dc/elements/1.1/\") do\n        xml.channel do\n                xml.title \"renlu.xu 's blog\"\n                xml.link(url_for(:action=>\"start\",:only_path=>false))\n                xml.description \"My life My love\"\n                xml.language \"zh_CN\"\n                xml.ttl 60\n\n                for event in @posts do\n                        xml.item do\n                                xml.title(event.title)\n                                xml.description(event.body)\n                                xml.pubDate(event.created_at.to_s(:rfc822))\n                                xml.guid(event.id)\n                                xml.link(\"http://.....#{event.id}\")\n                        end\n                end\n        end\nend\n\n   </blockquote>\n2. 一些Helper改进了\n    我能感觉到的是，在生成表单时，生成时，用form_tag能生成一个表单，这个表单默认带了一个隐藏的域。这个域的值是一个加密的串，用来验证当前表单提交的合法性。这一点很好。yahoo的产品体系中，也有类似的检查，叫crumb机制。存有不包含crumb的from表单提交时，程序是不能通过安全审查的。\n3 Router的改进。\n     将用分号来区隔的方法去掉了。比如/post/view/1:edit这种就去掉了。统一成了斜线方式:/post/view/1/edit。\n     经过我测试，rails的route好像存在一个很可耻的Bug.....有些地址死活不能被认出来...\n    另外，route需要Sqlite3的支持。\n4  默认的数据库支持类型据说换成sqlite3了。render_text 被去掉了\n5... 不少Bug 仍然性格倔强地拒绝被修改....","postDate":"2008-03-23 21:03:31","postId":613,"type":"post","status":"publish","imported":true,"file":"613.md"}