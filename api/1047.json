{"title":"cloudapi.info 预谋提供的下一个云接口:垃圾评论判别","zzzContent":"http://cloudapi.info/ 本来是个很小很小的应用,是我给小宝宝的礼物,web站点我也就随手用rails搭起来,放上去才几天,没想到马上就被垃圾信息注册机器人给盯上了.于是我决定,给cloudapi.info 提供的下一个接口即是垃圾信息判别.\n\n一些想法:\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">cloudapi 提供垃圾评论判别接口的想法</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">1.首先得建IP黑名单库,邮箱黑名单库,网址黑名单库,User-agent黑名单库,只要在黑名单库里,立刻杀无赦;</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">2.将 评论包含的网址,评论作者,评论内容等放入bayes中学习;</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">3:提供如下API:</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">其中$comment变量均是Hash(PHP中的数组也是hash),比如:</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\"><span style=\"white-space: pre;\"> </span>$comment=array(</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\"><span style=\"white-space: pre;\"> </span>\"word\"=&gt;\".....我们都是好同志\",</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">\"ip\"=&gt;\"127.0.0.1\",</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">\"email\"=&gt;\"aaa@example.com\",</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">\"author\"=&gt;\"一米六二\",</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">\"url\"=&gt;\"http://www.162cm.com/\",</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">\"ua\"=&gt;\"Mozilla/Firefox(3.6)\"</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">);</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">//将当前评论记录为垃圾评论,让系统学习;</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">api_learn_spam($database,$comment)</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">//将当前评论记录为非垃圾评论,让系统学习;</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">api_learn_ham($database,$comment)</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">//跟上两个相反的操作;</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">api_unlearn_spam($database,$comment)</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">api_unlearn_ham($database,$comment)</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">//分别将ip,url,某个单词和某个特定的UserAgent加入黑名单</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">api_push_ip_blacklist($database,$ip)</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">api_push_url_blacklist($database,$url)</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">api_push_word_blacklist($database,$word)</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">api_push_ua_blacklist($database,$ua)</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">//上面四个的反向操作;</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">api_unpush_ip_blacklist($database,$ip)</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">api_unpush_url_blacklist($database,$url)</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">api_unpush_word_blacklist($database,$word)</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">api_unpush_ua_blacklist($database,$ua)</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">//让系统来判定当前评论是不是垃圾评论;</div>\n<div id=\"_mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;\">api_classify($database,$comment);</div>\ncloudapi 提供垃圾评论判别接口的想法\n\n1.首先得建IP黑名单库,邮箱黑名单库,网址黑名单库,User-agent黑名单库,只要在黑名单库里,立刻杀无赦;\n\n2.将 评论包含的网址,评论作者,评论内容等放入bayes中学习;\n\n3:提供如下API:\n\n其中$comment变量均是Hash(PHP中的数组也是hash),比如:\n\n<span style=\"white-space: pre;\"> </span>$comment=array(\n\n<span style=\"white-space: pre;\"> </span>\"word\"=&gt;\".....我们都是好同志\",\n\n\"ip\"=&gt;\"127.0.0.1\",\n\n\"email\"=&gt;\"aaa@example.com\",\n\n\"author\"=&gt;\"一米六二\",\n\n\"url\"=&gt;\"http://www.162cm.com/\",\n\n\"ua\"=&gt;\"Mozilla/Firefox(3.6)\"\n\n);\n\n//将当前评论记录为垃圾评论,让系统学习;\n\napi_learn_spam($database,$comment)\n\n//将当前评论记录为非垃圾评论,让系统学习;\n\napi_learn_ham($database,$comment)\n\n//跟上两个相反的操作;\n\napi_unlearn_spam($database,$comment)\n\napi_unlearn_ham($database,$comment)\n\n//分别将ip,url,某个单词和某个特定的UserAgent加入黑名单\n\napi_push_ip_blacklist($database,$ip)\n\napi_push_url_blacklist($database,$url)\n\napi_push_word_blacklist($database,$word)\n\napi_push_ua_blacklist($database,$ua)\n\n//上面四个的反向操作;\n\napi_unpush_ip_blacklist($database,$ip)\n\napi_unpush_url_blacklist($database,$url)\n\napi_unpush_word_blacklist($database,$word)\n\napi_unpush_ua_blacklist($database,$ua)\n\n//让系统来判定当前评论是不是垃圾评论;\n\napi_classify($database,$comment);\n<div></div>","postDate":"2010-04-08 22:49:40","postId":1047,"type":"post","status":"publish","imported":true,"file":"1047.md"}