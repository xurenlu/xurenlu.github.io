{"title":"俺坚持不转载，所以点评一下..一段测试php的Single quote,double quote,heredoc,(s)printf的速度的代码,牛*的很.","zzzContent":"首先看记时的，我只用了$times这样一个数组，看看人家是这么用的，这就叫差距:\n<coolcode lang=\"php\">\nclass timer\n{\nvar $_start;\nvar $_current;\nfunction timer()\n{\n/**\n这是记录下开始操作时的时间。\n*/\n$this-&gt;_start = array_sum(explode(' ', microtime()));\n}\nfunction tick()\n{\n/**\n记下操作结束时间并算出当前耗用的时间。我只用了time函数，人老外用了microtime,并且用了array_sum(explode(' ', microtime())\n这么一个优雅的写法。让人脸红...\n*/\n$this-&gt;_current = round((array_sum(explode(' ', microtime()))-$this-&gt;_start)*1000, 0);\nreturn $this-&gt;_current;\n}\nfunction reset()\n{\n$this-&gt;timer();\n}\n}</coolcode>\n\n?&gt;\n\n哈，看出来人家的水平了吧...\n我开始测试时也没想到过了客户端浏览器解析HTML时会带来的可用内存容量的变化可能会导致服务器端的速度变化,因此我做了send to buffer下的测试，人家老外就不一样，用了一个超级无比绝*简单的方法解决了:人用了html中的<!-- 和-->来搞定，把所有输出内容用这个玩意儿包含起来，不就不会让浏览器解析了么？所以以后不要鄙视专写HTML页的人了，人也是相当有用的!\n注:我后来也做了测试，结果跟老外的是一样的，俺今天没有泡MM了，看了下代码，还是发现了问题所在了。附：老外测试结果:\n(但是很奇怪的是，偶的测试中，单引号终于没有双引号快... 个鸟人.我的系统是win2003.偶用Single Quote 来输出带变量替换的字符串到buffer时，用了超长时间，不知道为什么...)\n<img src=\"http://i3x171um.com/output_benchmarks/ob.gif\" alt=\"老外的结果... \" />","postDate":"2006-10-12 21:59:44","postId":281,"type":"post","status":"publish","imported":true,"file":"281.md"}