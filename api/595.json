{"title":"Javascript学习者需要看懂的几个例子","zzzContent":"1.关于prototype:这里prototype是javascript的一个特性，不是那个有名的prototype框架:\n<coolcode>\n<script type=\"text/javascript\">\nvar string=\"hello world\";\ntry{\n  alert(string.phone());\n}catch(e){alert(e);}\nString.prototype.phone=function()\n{\n  return \"159-10957151\";\n}\n\nalert(string.phone());\n</script>\n</coolcode>\n\n2.关于变量作用域,和IE,firefox对js的不同处理，这里有几个例子，有几个是原来从别处看到的记的笔记，有的是我自己挖掘出来的.\n\t2.1\n\t<coolcode>\n<script type=\"text/javascript\">\n  var deep_thought = {\n   the_answer: 42,\n   ask_question: function () {\n    return this.the_answer;\n   }\n  };\n\n  var the_meaning = deep_thought.ask_question();\n  alert(the_meaning);\n</script>\n\t</coolcode>\n\t2.2\n\t<coolcode>\n<script type=\"text/javascript\">\n  function test_this() {\n   return this;\n  }\n  var i_wonder_what_this_is = test_this();\n  alert(i_wonder_what_this_is);\n  // result: [object window];\n</script>\n\t</coolcode>\n\t2.3:\n\t<coolcode>\n<script type=\"text/javascript\">\n  function click_handler() {\n   alert(this); // 弹出 window 对象\n  }\n</script>\n ...\n<button id='thebutton' onclick='click_handler()'>Click me!</button>\n\t</coolcode>\n\t2.4\n\t<coolcode>\n<script type=\"text/javascript\">\n  function click_handler(obj) {\n   alert(obj);\n   //result:[object HTMLButtonElement]\n  }\n</script>\n ...\n<button id='thebutton' onclick='click_handler(this)'>Click me!</button>\n\t</coolcode>\n\t2.5\n\t<coolcode>\n<button id='thebutton' onclick='click_handler(this)'>Click me!</button>\n<script type=\"text/javascript\">\n function BigComputer(answer) {\n  this.the_answer = answer;\n  this.ask_question = function () {\n   alert(this.the_answer);\n  }\n }\n\n function addhandler() {\n  var deep_thought = new BigComputer(42),\n   the_button = document.getElementById('thebutton');\n   the_button.onclick = deep_thought.ask_question;\n }\n\n window.onload = addhandler;\n\n //result [undefined]\n</script>\n ...\n\t</coolcode>\n\t2.6\n\t<coolcode>\n<button id='thebutton' onclick='click_handler(this)'>Click me!</button>\n<script type=\"text/javascript\">\n function BigComputer(answer) {\n  var self=this;\n  self.the_answer = answer;\n  self.ask_question = function () {\n   alert(self.the_answer);\n  }\n }\n\n function addhandler() {\n  var deep_thought = new BigComputer(42),\n   the_button = document.getElementById('thebutton');\n   the_button.onclick = deep_thought.ask_question;\n }\n window.onload = addhandler;\n //result [42]\n</script>\n ...\n\t</coolcode>\n\t2.7\n\t<coolcode>\n<button id='thebutton' onclick='click_handler(this)'>Click me!</button>\n<script type=\"text/javascript\">\nfunction btn_click(){\n  alert(this);\n}\n\n function addhandler() {\n   the_button = document.getElementById('thebutton');\n   the_button.onclick = btn_click;\n }\n\n window.onload = addhandler;\n\n //result [undefined]\n</script>\n ...\n\t</coolcode>\n\t2.8\n\t<coolcode>\n<button id='thebutton' onclick='click_handler(this)'>Click me!</button>\n<script type=\"text/javascript\">\nfunction real_func()\n{\n  alert(this);\n}\nfunction btn_click(){\n  setTimeout(real_func,100);\n}\n\n function addhandler() {\n   the_button = document.getElementById('thebutton');\n   the_button.onclick = btn_click;\n }\n\n window.onload = addhandler;\n\n //result [undefined]\n</script>\n ...\n\t</coolcode>\n\t2.9\n\t<coolcode>\n<button id='thebutton' onclick='click_handler(this)'>Click me!</button>\n<script type=\"text/javascript\">\n Function.prototype.bind = function(obj) {\n  var method = this,\n   temp = function() {\n    return method.apply(obj, arguments);\n   };\n\n  return temp;\n }\nvar  real_func=function()\n{\n  alert(this);\n}\nfunction btn_click(){\n  setTimeout( real_func.bind(this),100);\n}\n function addhandler() {\n   the_button = document.getElementById('thebutton');\n   the_button.onclick = btn_click;\n }\n window.onload = addhandler;\n //result [undefined]\n</script>\n ...\n\t</coolcode>\n\t2.10\n\t<coolcode>\n<script>\n  //** variables need to be defined\n  alert(document);          // [object HTMLdocument]\n  alert(window.document);   // [object HTMLdocument]\n\n\n  alert(window.face);      //pretty\n  var face=\"pretty\";\n  alert(face);             //pretty\n  alert(window.face);      //pretty\n  alert(window.sock);      //undefined\n  alert(sock);              // ERROR: sock not defined\n\n</script>\n\t</coolcode>\n\t2.11\n\t<coolcode>\n<script type=\"text/javascript\">\nfunction method()\n{\n  var window={};\n  alert(window.location);\n}\n  alert(window.location);\n  method();\n  alert(window.location);\n</script>\n\t</coolcode>\n\t2.12\n\t<coolcode>\n<script type=\"text/javascript\">\n   var window={};//ERROR:非法赋值!\n   // this works in IE,but throw an Exception in firefox\n   alert(window.location);\n</script>\n\t</coolcode>\n\t2.13\n\t<coolcode>\n<script type=\"text/javascript\">\n  /** 这是一段很让人恼火的代码\n  可以禁用alert\n  */\n  window.alert(\"hello world\");\n  window.alert=function(str){\n      document.write(str);\n  };\n  alert(\"hello world\");\n  window.alert(\"hello world\");\n</script>\n\t</coolcode>\n\t2.14:\n\t<coolcode>\n\t注意这三个html文件的结果有什么不同.\n\ta.html:\n<script type=\"text/javascript\">\nalert(sock);\nfunction sock()\n{\n  alert(\"function sock executed!\");\n}\nalert(sock);\n</script>\n\tb.html:\n<script type=\"text/javascript\">\nalert(sock);\nvar sock=function()\n{\n  alert(\"function sock executed!\");\n}\nalert(sock);\n</script>\n\tc.html:\n<script type=\"text/javascript\">\n// 这里并不弹出\"undefined\"\n// 有点偏心啊!\nalert(sock);\n</script>\n\n\t</coolcode>\n2.15\n看看IE,firefox下分别运行有何不同:\n<coolcode>\n<script type=\"text/javascript\">\nObject.prototype.hello=function(){\n  alert(\"hello\");\n}\nwindow.hello();\n</script>\n</coolcode>","postDate":"2008-02-20 23:05:58","postId":595,"type":"post","status":"publish","imported":true,"file":"595.md"}