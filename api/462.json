{"title":"qemu:一个win/linux/bsd/mac下的虚拟机软件","zzzContent":"上班没几天，就很好奇公司运行于BSD系统之上的虚拟机系统。就是一台物理主机上设置n个IP,每个ip连上去都是一个独立的主机环境，可以单独安装系统，运行相应服务。当然，每个虚拟机都是需要资源开销的，不过整体来说，CPU占用还是不大。\n这周末就开始折腾我的3000块钱的破本儿。以前装过VirtualBox,Qemu等不少虚拟机.Virtual Box因为GuestOS与HostOS通信有问题，而且只能在X中运行，虽然可能会比qemu快，还是被我放弃了。主攻qemu!\n\nqemu的一个简介:\n<blockquote> QEMU是一套可以在Windows操作系统中仿真出另一套操作系统的仿真软件。因为它可以在系统中仿真出一颗虚拟的CPU，然后将要仿真的操作系统交给这颗虚拟CPU去处理，所以能够达到同一平台却能同时执行两种操作系统的目的。\n\nQEMU的使用非常简单，因为它不用安装，只要使用文字指令和参数就可以操作。而它可以仿真的操作系统类型也非常多元，包括Linux系列、Mac OS系列、FreeBSD系列、Windows系列等等操作系统通通都没问题。\n\n一般的操作系统仿真程序的执行速度都非常慢，但是QEMU的速度居然可以达到正常的四分之一以上，在仿真程序中算是快的了。对于有需要在同一台计算机上安装多个操作系统的人来说，QEMU一定可以帮的上很大的忙。</blockquote>\nQemu还可以通过一个对个人用户免费的kQemu模块来加速。同时，qemu支持的虚拟磁盘文件格式很多，可以与virtualbox,vmware等软件通用。qemu可以设置dhcp方式实现最简单的GuestOS上网，也可以通过Tap/Tun方式来实现HostOS与GuestOS之间的直接通信。我试了下，很不错。最主要的是，qemu虽然跟virtualbox一样是用SDL库来开发的，但是与Virtualbox不同的是,qemu可以通过加-nographic在纯文本方式运行,不再需要X server.这样就可以在服务器上运行了。\n\n安装qemu:\n\n(不要生气哟,我是yum install qemu就ok了...),如果你没有类似机制，那从<a href=\"http://fabrice.bellard.free.fr/qemu/\">http://fabrice.bellard.free.fr/qemu/</a>主页下源码安装吧。\n安装kqemu:\ndown下源码，configure ;make ;make install就行了。新版 的不需要用户做任何 设置。如果安装成功但是kqemu模块没起作用，需要:\n<coolcode>\nmodprobe kqemu\nmknod /dev/kqemu c 250 0\nchmod 666 /dev/kqemu\n</coolcode>\n如果安装不成功.....啊，今儿天气不错啊！\n\n安装成功后，用qemu-img可以创建磁盘文件。用\nqemu -cdrom fedora_livecd.iso -boot d 可以挂载光盘并从光盘启动。这种方式启动的是-net user这个默认方式。\n如何启用tap/tun方式，我下次再整。因为要用iptables进行地址转换，比较麻烦。\n(补记：还有其他不少虚拟机软件，但是我比较喜欢开源产品，所以我只讲virtualbox和qemu...收费产品也都不错，但是我可不会在blog上写如何用crack版本)","postDate":"2007-09-02 23:30:25","postId":462,"type":"post","status":"publish","imported":true,"file":"462.md"}