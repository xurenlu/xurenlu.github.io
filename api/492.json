{"title":"为什么SELECT col1,col2,col3,col4 会比SELECT * 慢?","zzzContent":"之前做过一个测试:\n<a href=\"http://www.162cm.com/archives/283.html\">select id,title from ** 与select * from **的速度测试。</a>\n这是后续版.\n<coolcode lang=\"PHP\">\n<?php\ndefine(\"TIMES\",10000);\n$SQL1=\"SELECT * FROM stat_visits\";\n$SQL2=\"SELECT v_id,v_url,v_site_id,v_screen_size,v_h,v_m,v_s,v_flash,v_director,\nv_quicktime,v_realplayer,v_pdf,v_windowsmedia,v_java,v_cookie,v_ref,v_remote_ip,\nv_timezone,v_color_depth,v_type,v_year,v_month,v_day,v_time FROM stat_visits\";\n$conn=mysql_connect(\"localhost\",\"root\",\"\");\nmysql_select_db(\"test\");\n$time1=array_sum(explode(' ', microtime()));\nfor($i=0;$i<times;$i++)\n</times;$i++)\n  mysql_query($SQL1);\n$time2=array_sum(explode(' ', microtime()));\nfor($i=0;$i<times;$i++)\n</times;$i++)\n  mysql_query($SQL2);\n$time3=array_sum(explode(' ', microtime()));\n\n$cost1=$time2-$time1;\n$cost2=$time3-$time2;\nprint \"cost1:$cost1n\";\nprint \"cost2:$cost2n\";\n\n?>\n</coolcode>\n\n测试的结果是:\n<coolcode>\n[st@localhost test]$ php select.php\ncost1:2.1355810165405\ncost2:2.5820469856262\n[st@localhost test]$ php select.php\ncost1:1.9796178340912\ncost2:2.5190000534058\n[st@localhost test]$ php select.php\ncost1:1.9672379493713\ncost2:2.9030020236969\n[st@localhost test]$ php select.php\ncost1:1.9810240268707\ncost2:2.5505940914154\n</coolcode>\n好了，现在将SQL1和SQL2次序交换:\n<coolcode>\ncalhost test]$ php select.php\ncost1:2.5933158397675\ncost2:2.0362050533295\n[st@localhost test]$ php select.php\ncost1:2.6104090213776\ncost2:2.056037902832\n[st@localhost test]$ php select.php\ncost1:4.2802629470825\ncost2:3.3958988189697\n[st@localhost test]$ php select.php\ncost1:2.6283531188965\ncost2:2.0102050304413\n</coolcode>\n大体上，SELECT COL1,COL2,COL3..... 与SELECT * 相比，两者花费的时间之比是4:5.不知道非空表的结果会不会是这样?","postDate":"2007-10-07 13:31:57","postId":492,"type":"post","status":"publish","imported":true,"file":"492.md"}